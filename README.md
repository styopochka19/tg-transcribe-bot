# Speech-to-Text Telegram Bot

Этот репозиторий содержит код для Telegram-бота, который конвертирует аудио- и видеофайлы на немецком языке в текст.

## Возможности

*   **Извлечение аудио из видео:** Извлекает аудиодорожку из аудио/видеофайлов и конвертирует ее в текст.
*   **Поддержка немецкого языка:** Специализирован на распознавании немецкой речи.
*   **Два способа запуска:** Бота можно запустить как на серверах Telegram, так и локально для фактического отсутствия ограничений размера обрабатываемых файлов.

## Способы запуска

Вы можете запустить бота одним из двух способов.

### Способ 1: Нагрузка серверов Telegram

1.  Убедитесь, что в коде переменная, отвечающая за способ запуска имеет значение None:
    ```bash
    LOCAL_BOT_API_SERVER = None
    ```

2.  Вставьте свой личный токен, выданный BotFather:
    ```bash
    BOT_TOKEN = '<токен>'
    ```

3.  Запустите программу:
    ```bash
    python tg.py
    ```

### Способ 2: Локальный запуск

Этот способ позволит сильно увеличить максимальный размер обрабатываемых файлов (с 20 Мб до несколькиг Гб).

1.  Установите и запустите Telegram Bot API Server локально, следуя официальной инструкции:
    [https://github.com/tdlib/telegram-bot-api](https://github.com/tdlib/telegram-bot-api)

2.  Убедитесь, что в коде переменная, отвечающая за способ запуска имеет своим значением необходимый адрес:
    ```bash
    LOCAL_BOT_API_SERVER = 'http://localhost:8081'
    ```

3.  Вставьте свой личный токен, выданный BotFather:
    ```bash
    BOT_TOKEN = '<токен>'
    ```

4.  Запустите локальный сервер:
    ```bash
    telegram-bot-api/bin/telegram-bot-api --api-id <Ваш id> --api-hash <Ваш hash> --local
    ```

5.  Запустите программу
    ```bash
    python tg.py
    ```

## Использование

1.  Найдите своего бота в Telegram.

2.  Отправьте ему аудио- или видеофайл с речью на немецком языке. Также можно изменить "de" в строке:
    ```bash
    result = self.model.transcribe(audio_path, language="de")
    ```

3.  Радуйтесь.
